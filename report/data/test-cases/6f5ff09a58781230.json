{"uid":"6f5ff09a58781230","name":"上交所协商成交_正常撤单","fullName":"testcase.test_case_excel#test_jys","historyId":"a9670e240804fb6f45d0b99d3e143649","time":{"start":1705369923555,"stop":1705369934426,"duration":10871},"description":"上交所协商成交各接口各要素正确，方向卖出，撤单成功","descriptionHtml":"<p>上交所协商成交各接口各要素正确，方向卖出，撤单成功</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"交易初始化","time":{"start":1705369906033,"stop":1705369911955,"duration":5922},"status":"passed","steps":[{"name":"数据库查询","time":{"start":1705369907559,"stop":1705369907595,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"'select t.init_date from ttrd_fix_setflag t'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"发送webservice请求","time":{"start":1705369907630,"stop":1705369911955,"duration":4325},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"action","value":"1100"},{"name":"data","value":"'<?xml version='1.0' encoding='utf-8'?>\n<root>\n    <header>\n    <msgType>R</msgType>\n    <action>1100</action>\n    <clientID>xIR</clientID>\n    <reqSn>935d557845994a3badd3c5cb65da9ac2</reqSn>\n    <sendDateTime>2024-01-16 09:51:46</sendDateTime>\n    <fromIPMAC>172.20.10.155,54-E1-AD-71-D4-2D</fromIPMAC>\n  </header>\n  <body>\n    <initDate>2024-01-16</initDate>\n  </body>\n</root>'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"_xunit_setup_module_fixture_step_pytest_allure_codeing.testcase.test_case_excel","time":{"start":1705369911955,"stop":1705369911955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"testStage":{"description":"上交所协商成交各接口各要素正确，方向卖出，撤单成功","status":"passed","steps":[{"name":"发送webservice请求","time":{"start":1705369923614,"stop":1705369923685,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"action","value":"'1101'"},{"name":"data","value":"'<?xml version='1.0' encoding='utf-8'?>\n<root>\n  <header>\n    <msgType>R</msgType>\n    <action>1101</action>\n    <clientID>xIR</clientID>\n    <reqSn>7897b7e19186472f823bad3d04ec9799</reqSn>\n    <sendDateTime>2024-01-16 09:52:03</sendDateTime>\n    <fromIPMAC>191.168.0.53,</fromIPMAC>\n  </header>\n  <body>\n    <orders>\n      <order>\n        <secuExtAccid>B883056635</secuExtAccid>\n        <orderType>9</orderType>\n        <dir>S</dir>\n        <iCode>010609</iCode>\n        <sysOrdID>1705369923</sysOrdID>\n        <iName>MDe5+tWuMDY=</iName>\n        <exeMarket>XSHG_FIX</exeMarket>\n        <ownerType>103</ownerType>\n        <bOrdCount>0</bOrdCount>\n        <bOrdPrice>0</bOrdPrice>\n        <sOrdCount>100</sOrdCount>\n        <sOrdPrice>102.000</sOrdPrice>\n        <settlType>103</settlType>\n        <settlPeriod />\n        <lastParPx>0</lastParPx>\n        <cashMargin>1</cashMargin>\n        <memo />\n        <ordDate>2024-01-16</ordDate>\n        <ordTime>09:52:03</ordTime>\n        <matchNo>112</matchNo>\n        <product>01</product>\n        <tradeType>10</tradeType>\n        <company>316</company>\n        <trader>Z31608</trader>\n        <seatno>88045</seatno>\n        <obTrader>Z31606</obTrader>\n        <iceCount>0</iceCount>\n        <clientOrdid>lwy111</clientOrdid>\n        <accname>lwy_shg_B883056635</accname>\n        <shareProperty>01</shareProperty>\n      </order>\n    </orders>\n    <accountInfo>\n      <cashExtAccID>lwy_wbzj_jys</cashExtAccID>\n      <cashExtAccName>lwy_shg_001</cashExtAccName>\n      <cashAccID>LWY_NBZJ_JYS</cashAccID>\n      <cashAccIDAccName>LWY_NBZJ_JYS</cashAccIDAccName>\n      <xirSecuExtAccID>lwy_wbzq_sh_02</xirSecuExtAccID>\n      <xirSecuExtAccName>lwy_wbzq_sh_02</xirSecuExtAccName>\n      <secuAccID>LWY_NBZQ_JYS</secuAccID>\n      <secuAccName>LWY_NBZQ_JYS</secuAccName>\n    </accountInfo>\n    <terminalInfo>\n      <clientPublicIpAddress />\n      <clientPublicPort />\n      <clientInnerIpAddress />\n      <clientMacaddress />\n      <clientHarddiskno />\n      <clientPcname />\n      <clientCpuno />\n      <clientDiskpartitioninfo />\n      <clientReellabel />\n      <clientName>xIRCS</clientName>\n      <clientVersion />\n      <isTerminalinfo>0</isTerminalinfo>\n    </terminalInfo>\n  </body>\n</root>'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"发送webservice请求","time":{"start":1705369928780,"stop":1705369928850,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"action","value":"'1102'"},{"name":"data","value":"'<?xml version='1.0' encoding='utf-8'?>\n<root>\n  <header>\n    <msgType>R</msgType>\n    <action>1102</action>\n    <clientID>xIR</clientID>\n    <reqSn>1b6bf9b933204547813ce42127872cbb</reqSn>\n    <sendDateTime>2024-01-16 09:52:08</sendDateTime>\n    <fromIPMAC>172.20.10.30,8C-16-45-9F-36-50</fromIPMAC>\n  </header>\n  <body>\n    <actions>\n    \t <action>\n\t        <actDate>2024-01-16</actDate>\n\t        <actTime>09:52:08</actTime>\n\t        <sysActID />\n\t        <actType>W</actType>\n\t        <orgOrdDate>2024-01-16</orgOrdDate>\n\t        <orgSysOrdID>1705369923</orgSysOrdID>\n\t        <extActID />\n\t        <userID />\n\t        <compID />\n         </action>\n    </actions>\n    <terminalInfo>\n      <clientPublicIpAddress />\n      <clientPublicPort />\n      <clientInnerIpAddress>127.0.0.1</clientInnerIpAddress>\n      <clientMacaddress>8C16459F3650^C0B6F9E3ABDA^C2B6F9E3ABD9^C0B6F9E3ABD9^00FF818789ED^00FFE575E6DC^00FF1F4140A5</clientMacaddress>\n      <clientHarddiskno>LSL7012818516F02116</clientHarddiskno>\n      <clientPcname>B1221</clientPcname>\n      <clientCpuno>BFEBFBFF000806E9</clientCpuno>\n      <clientDiskpartitioninfo>C^NTFS^119G</clientDiskpartitioninfo>\n      <clientReellabel>000B-1D29</clientReellabel>\n      <clientName>xIRCS</clientName>\n      <clientVersion>1.3.0.075_QUOTE_3</clientVersion>\n      <isTerminalinfo>1</isTerminalinfo>\n    </terminalInfo>\n  </body>\n</root>'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"数据库查询","time":{"start":1705369933911,"stop":1705369933935,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"'select t.ordstatus,t.act_status,t.acttype ,t.dir,t.S_ORDCOUNT,t.S_ORDPRICE from ttrd_fix_order t where t.sysordid=1705369923'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"数据库ORDSTATUS断言","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[{"name":"预期结果：ORDSTATUS=9","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：ORDSTATUS=9","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库ACT_STATUS断言","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[{"name":"预期结果：ACT_STATUS=6","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：ACT_STATUS=6","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库ACTTYPE断言","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[{"name":"预期结果：ACTTYPE=W","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：ACTTYPE=W","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库DIR断言","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[{"name":"预期结果：DIR=S","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：DIR=S","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库S_ORDCOUNT断言","time":{"start":1705369934206,"stop":1705369934207,"duration":1},"status":"passed","steps":[{"name":"预期结果：S_ORDCOUNT=100","time":{"start":1705369934206,"stop":1705369934206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：S_ORDCOUNT=100","time":{"start":1705369934207,"stop":1705369934207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库S_ORDPRICE断言","time":{"start":1705369934207,"stop":1705369934207,"duration":0},"status":"passed","steps":[{"name":"预期结果：S_ORDPRICE=102.0","time":{"start":1705369934207,"stop":1705369934207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：S_ORDPRICE=102.0","time":{"start":1705369934207,"stop":1705369934207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库查询","time":{"start":1705369934329,"stop":1705369934332,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"'select t.actstatus,t.acttype from ttrd_fix_action t where t.o_sysordid=1705369923'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":0},{"name":"数据库ACTSTATUS断言","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[{"name":"预期结果：ACTSTATUS=6","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：ACTSTATUS=6","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2},{"name":"数据库ACTTYPE断言","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[{"name":"预期结果：ACTTYPE=W","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0},{"name":"实际结果：ACTTYPE=W","time":{"start":1705369934426,"stop":1705369934426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"stepsCount":2}],"attachments":[{"uid":"36f3b7cfbd4d2bc","name":"log","source":"36f3b7cfbd4d2bc.txt","type":"text/plain","size":7353}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"stepsCount":28},"afterStages":[{"name":"_xunit_setup_module_fixture_step_pytest_allure_codeing.testcase.test_case_excel::0","time":{"start":1705370061719,"stop":1705370061719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"labels":[{"name":"feature","value":"上交所固收（XSHG_FIX）"},{"name":"story","value":"协商成交（XSCJ_SHG）_正向用例"},{"name":"severity","value":"blocker"},{"name":"parentSuite","value":"testcase"},{"name":"suite","value":"test_case_excel"},{"name":"host","value":"HT-LPC-0297"},{"name":"thread","value":"24156-Thread-1 (run_test_task)"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_case_excel"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"(3, '协商成交（XSCJ_SHG）_正向用例', '上交所协商成交_正常撤单', '上交所协商成交各接口各要素正确，方向卖出，撤单成功', 'blocker', '1101;1102', 'data/shg_fix/DS_1101_SHG_Fix_XSCJ.xml;data/shg_fix/DS_1102_SHG_CD.xml', '{\"matchNo\":\"112\",\"sysOrdID\":\"\",\"dir\":\"S\",\"bOrdCount\":\"0\",\"bOrdPrice\":\"0\",\"sOrdCount\":\"100\",\"sOrdPrice\":\"102.000\"};{\"orgSysOrdID\":\"\"}', 'select t.ordstatus,t.act_status,t.acttype ,t.dir,t.S_ORDCOUNT,t.S_ORDPRICE from ttrd_fix_order t where t.sysordid={0};select t.actstatus,t.acttype from ttrd_fix_action t where t.o_sysordid={0}', 'all_val[\"sysOrdID\"]', '{\"ORDSTATUS\":9,\"ACT_STATUS\":\"6\",\"ACTTYPE\":\"W\",\"DIR\":\"S\",\"S_ORDCOUNT\":100,\"S_ORDPRICE\":102.0000};{\"ACTSTATUS\":6,\"ACTTYPE\":\"W\"}', None, 'yes', None, 'data/step_case_shg.xlsx', '上交所固收（XSHG_FIX）')"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[],"tags":[]},"source":"6f5ff09a58781230.json","parameterValues":["(3, '协商成交（XSCJ_SHG）_正向用例', '上交所协商成交_正常撤单', '上交所协商成交各接口各要素正确，方向卖出，撤单成功', 'blocker', '1101;1102', 'data/shg_fix/DS_1101_SHG_Fix_XSCJ.xml;data/shg_fix/DS_1102_SHG_CD.xml', '{\"matchNo\":\"112\",\"sysOrdID\":\"\",\"dir\":\"S\",\"bOrdCount\":\"0\",\"bOrdPrice\":\"0\",\"sOrdCount\":\"100\",\"sOrdPrice\":\"102.000\"};{\"orgSysOrdID\":\"\"}', 'select t.ordstatus,t.act_status,t.acttype ,t.dir,t.S_ORDCOUNT,t.S_ORDPRICE from ttrd_fix_order t where t.sysordid={0};select t.actstatus,t.acttype from ttrd_fix_action t where t.o_sysordid={0}', 'all_val[\"sysOrdID\"]', '{\"ORDSTATUS\":9,\"ACT_STATUS\":\"6\",\"ACTTYPE\":\"W\",\"DIR\":\"S\",\"S_ORDCOUNT\":100,\"S_ORDPRICE\":102.0000};{\"ACTSTATUS\":6,\"ACTTYPE\":\"W\"}', None, 'yes', None, 'data/step_case_shg.xlsx', '上交所固收（XSHG_FIX）')"]}