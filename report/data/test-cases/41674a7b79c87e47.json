{"uid":"41674a7b79c87e47","name":"上交所确定报价_正常申报","fullName":"testcase.test_case_excel#test_jys","historyId":"36929e928fa75ccd154b6d2f82c5aed1","time":{"start":1704955896334,"stop":1704955901830,"duration":5496},"description":"上交所确定报价各接口各要素正确，方向为双边，申报成功","descriptionHtml":"<p>上交所确定报价各接口各要素正确，方向为双边，申报成功</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"交易初始化","time":{"start":1704955780233,"stop":1704955780539,"duration":306},"status":"passed","steps":[{"name":"数据库查询","time":{"start":1704955780527,"stop":1704955780530,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"'select t.init_date from ttrd_fix_setflag t'"}],"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"_xunit_setup_module_fixture_step_pytest_allure_codeing.testcase.test_case_excel","time":{"start":1704955780539,"stop":1704955780539,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"上交所确定报价各接口各要素正确，方向为双边，申报成功","status":"passed","steps":[{"name":"发送webservice请求","time":{"start":1704955896377,"stop":1704955896414,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"action","value":"'1101'"},{"name":"data","value":"'<?xml version='1.0' encoding='utf-8'?>\n<root>\n  <header>\n    <msgType>R</msgType>\n    <action>1101</action>\n    <clientID>xIR</clientID>\n    <reqSn>7897b7e19186472f823bad3d04ec9799</reqSn>\n    <sendDateTime>2024-01-11 14:51:36</sendDateTime>\n    <fromIPMAC>191.168.0.53,</fromIPMAC>\n  </header>\n  <body>\n    <orders>\n      <order>\n        \n        <clientOrdid>xir20230222</clientOrdid>\n        <sysOrdID>1704955896</sysOrdID>\n        <ordDate>2024-01-11</ordDate>\n        <ordTime>14:51:36</ordTime>\n        \n        <product>01</product>\n        <tradeType>10</tradeType>\n        <orderType>9</orderType>\n        <declareType>6</declareType>\n        <mtype>XSHG</mtype>\n        <exeMarket>XSHG_FIX</exeMarket>\n        <shareProperty>01</shareProperty>\n        <ownerType>103</ownerType>\n        \n        <company>316</company>\n        <trader>Z31608</trader>\n        <seatno>88045</seatno>\n        <iceCount>0</iceCount>\n        <accname>lwy_外证_B883057982</accname>\n        <secuExtAccid>B883057982</secuExtAccid>\n        <dir>D</dir>\n        <iCode>010609</iCode>\n        <iName>MDe5+tWuMDY=</iName>\n        <bOrdCount>1000</bOrdCount>\n        <bOrdPrice>101.120</bOrdPrice>\n        <sOrdCount>1000</sOrdCount>\n        <sOrdPrice>102.220</sOrdPrice>\n\n        <preTradeAnonymity>0</preTradeAnonymity>\n        <orderRestrictions>0</orderRestrictions>\n        <settlType>104</settlType>\n        <settlPeriod />\n        <lastParPx>0</lastParPx>\n        <cashMargin>1</cashMargin>\n        <localOrdId>1</localOrdId>\n        <memo />\n      </order>\n    </orders>\n    <accountInfo>\n      <cashExtAccID>lwy_wbzj_jys</cashExtAccID>\n      <cashExtAccName>lwy_外部资金_交易所</cashExtAccName>\n      <cashAccID>LWY_NBZJ_JYS</cashAccID>\n      <cashAccIDAccName>LWY_NBZJ_JYS</cashAccIDAccName>\n      <xirSecuExtAccID>lwy_wbzq_sh_02</xirSecuExtAccID>\n      <xirSecuExtAccName>lwy_wbzq_sh_02</xirSecuExtAccName>\n      <secuAccID>LWY_NBZQ_JYS</secuAccID>\n      <secuAccName>LWY_NBZQ_JYS</secuAccName>\n    </accountInfo>\n    <terminalInfo>\n      <clientPublicIpAddress />\n      <clientPublicPort />\n      <clientInnerIpAddress />\n      <clientMacaddress />\n      <clientHarddiskno />\n      <clientPcname />\n      <clientCpuno />\n      <clientDiskpartitioninfo />\n      <clientReellabel />\n      <clientName>xIRCS</clientName>\n      <clientVersion />\n      <isTerminalinfo>0</isTerminalinfo>\n    </terminalInfo>\n  </body>\n</root>'"}],"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库查询","time":{"start":1704955901492,"stop":1704955901498,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sql","value":"'select t.ordstatus,t.dir,t.declare_type,t.trader,t.S_ORDCOUNT,t.S_ORDPRICE,t.B_ORDCOUNT,t.B_ORDPRICE from ttrd_fix_order t  where t.sysordid=1704955896'"}],"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库ORDSTATUS断言","time":{"start":1704955901828,"stop":1704955901829,"duration":1},"status":"passed","steps":[{"name":"预期结果：ORDSTATUS=5","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：ORDSTATUS=5","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库DIR断言","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[{"name":"预期结果：DIR=D","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：DIR=D","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库DECLARE_TYPE断言","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[{"name":"预期结果：DECLARE_TYPE=6","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：DECLARE_TYPE=6","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库TRADER断言","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[{"name":"预期结果：TRADER=Z31608","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：TRADER=Z31608","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库S_ORDCOUNT断言","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[{"name":"预期结果：S_ORDCOUNT=1000","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：S_ORDCOUNT=1000","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库S_ORDPRICE断言","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[{"name":"预期结果：S_ORDPRICE=102.22","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：S_ORDPRICE=102.22","time":{"start":1704955901829,"stop":1704955901829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库B_ORDCOUNT断言","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[{"name":"预期结果：B_ORDCOUNT=1000","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：B_ORDCOUNT=1000","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"数据库B_ORDPRICE断言","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[{"name":"预期结果：B_ORDPRICE=101.12","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"实际结果：B_ORDPRICE=101.12","time":{"start":1704955901830,"stop":1704955901830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[{"uid":"31a95cbfb38fcd7d","name":"log","source":"31a95cbfb38fcd7d.txt","type":"text/plain","size":4951}],"parameters":[],"stepsCount":26,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false},"afterStages":[{"name":"_xunit_setup_module_fixture_step_pytest_allure_codeing.testcase.test_case_excel::0","time":{"start":1704955923646,"stop":1704955923646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"上交所固收（XSHG_FIX）"},{"name":"story","value":"确定报价（QDBJ_SHG）_正向用例"},{"name":"severity","value":"blocker"},{"name":"parentSuite","value":"testcase"},{"name":"suite","value":"test_case_excel"},{"name":"host","value":"HT-LPC-0297"},{"name":"thread","value":"3412-Thread-1 (run_test_task)"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_case_excel"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"(18, '确定报价（QDBJ_SHG）_正向用例', '上交所确定报价_正常申报', '上交所确定报价各接口各要素正确，方向为双边，申报成功', 'blocker', 1101, 'data/shg_fix/DS_1101_SHG_Fix_QDBJ.xml', '{\"sysOrdID\":\"\"}', 'select t.ordstatus,t.dir,t.declare_type,t.trader,t.S_ORDCOUNT,t.S_ORDPRICE,t.B_ORDCOUNT,t.B_ORDPRICE from ttrd_fix_order t  where t.sysordid={0}', 'all_val[\"sysOrdID\"]', '{\"ORDSTATUS\":5,\"DIR\":\"D\",\"DECLARE_TYPE\":\"6\",\"TRADER\":\"Z31608\",\"S_ORDCOUNT\":1000,\"S_ORDPRICE\":102.22,\"B_ORDCOUNT\":1000,\"B_ORDPRICE\":101.12}', '测试通过', 'yes', None, 'data/step_case_shg.xlsx', '上交所固收（XSHG_FIX）')"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[],"tags":[]},"source":"41674a7b79c87e47.json","parameterValues":["(18, '确定报价（QDBJ_SHG）_正向用例', '上交所确定报价_正常申报', '上交所确定报价各接口各要素正确，方向为双边，申报成功', 'blocker', 1101, 'data/shg_fix/DS_1101_SHG_Fix_QDBJ.xml', '{\"sysOrdID\":\"\"}', 'select t.ordstatus,t.dir,t.declare_type,t.trader,t.S_ORDCOUNT,t.S_ORDPRICE,t.B_ORDCOUNT,t.B_ORDPRICE from ttrd_fix_order t  where t.sysordid={0}', 'all_val[\"sysOrdID\"]', '{\"ORDSTATUS\":5,\"DIR\":\"D\",\"DECLARE_TYPE\":\"6\",\"TRADER\":\"Z31608\",\"S_ORDCOUNT\":1000,\"S_ORDPRICE\":102.22,\"B_ORDCOUNT\":1000,\"B_ORDPRICE\":101.12}', '测试通过', 'yes', None, 'data/step_case_shg.xlsx', '上交所固收（XSHG_FIX）')"]}