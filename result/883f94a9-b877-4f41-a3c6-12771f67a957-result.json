{"name": "上交所协商成交_正常成交", "status": "passed", "description": "上交所协商成交各接口各要素正确，方向卖出，正常成交", "steps": [{"name": "发送webservice请求", "status": "passed", "parameters": [{"name": "action", "value": "'1101'"}, {"name": "data", "value": "'<?xml version='1.0' encoding='utf-8'?>\n<root>\n  <header>\n    <msgType>R</msgType>\n    <action>1101</action>\n    <clientID>xIR</clientID>\n    <reqSn>7897b7e19186472f823bad3d04ec9799</reqSn>\n    <sendDateTime>2023-12-28 15:06:25</sendDateTime>\n    <fromIPMAC>191.168.0.53,</fromIPMAC>\n  </header>\n  <body>\n    <orders>\n      <order>\n        <secuExtAccid>B883056635</secuExtAccid>\n        <orderType>9</orderType>\n        <dir>B</dir>\n        <iCode>010609</iCode>\n        <sysOrdID>1703747185</sysOrdID>\n        <iName>MDe5+tWuMDY=</iName>\n        <exeMarket>XSHG_FIX</exeMarket>\n        <ownerType>103</ownerType>\n        <bOrdCount>100</bOrdCount>\n        <bOrdPrice>102.000</bOrdPrice>\n        <sOrdCount>0</sOrdCount>\n        <sOrdPrice>0</sOrdPrice>\n        <settlType>103</settlType>\n        <settlPeriod />\n        <lastParPx>0</lastParPx>\n        <cashMargin>1</cashMargin>\n        <memo />\n        <ordDate>2023-12-28</ordDate>\n        <ordTime>15:06:25</ordTime>\n        <matchNo>114</matchNo>\n        <product>01</product>\n        <tradeType>10</tradeType>\n        <company>316</company>\n        <trader>Z31606</trader>\n        <seatno>88045</seatno>\n        <obTrader>Z31608</obTrader>\n        <iceCount>0</iceCount>\n        <clientOrdid>lwy111</clientOrdid>\n        <accname>lwy_shg_B883056635</accname>\n        <shareProperty>01</shareProperty>\n      </order>\n    </orders>\n    <accountInfo>\n      <cashExtAccID>lwy_wbzj_jys</cashExtAccID>\n      <cashExtAccName>lwy_shg_001</cashExtAccName>\n      <cashAccID>LWY_NBZJ_JYS</cashAccID>\n      <cashAccIDAccName>LWY_NBZJ_JYS</cashAccIDAccName>\n      <xirSecuExtAccID>lwy_wbzq_sh_02</xirSecuExtAccID>\n      <xirSecuExtAccName>lwy_wbzq_sh_02</xirSecuExtAccName>\n      <secuAccID>LWY_NBZQ_JYS</secuAccID>\n      <secuAccName>LWY_NBZQ_JYS</secuAccName>\n    </accountInfo>\n    <terminalInfo>\n      <clientPublicIpAddress />\n      <clientPublicPort />\n      <clientInnerIpAddress />\n      <clientMacaddress />\n      <clientHarddiskno />\n      <clientPcname />\n      <clientCpuno />\n      <clientDiskpartitioninfo />\n      <clientReellabel />\n      <clientName>xIRCS</clientName>\n      <clientVersion />\n      <isTerminalinfo>0</isTerminalinfo>\n    </terminalInfo>\n  </body>\n</root>'"}], "start": 1703747185706, "stop": 1703747185741}, {"name": "发送webservice请求", "status": "passed", "parameters": [{"name": "action", "value": "'1101'"}, {"name": "data", "value": "'<?xml version='1.0' encoding='utf-8'?>\n<root>\n  <header>\n    <msgType>R</msgType>\n    <action>1101</action>\n    <clientID>xIR</clientID>\n    <reqSn>7897b7e19186472f823bad3d04ec9799</reqSn>\n    <sendDateTime>2023-12-28 15:06:30</sendDateTime>\n    <fromIPMAC>191.168.0.53,</fromIPMAC>\n  </header>\n  <body>\n    <orders>\n      <order>\n        <secuExtAccid>B883056635</secuExtAccid>\n        <orderType>9</orderType>\n        <dir>S</dir>\n        <iCode>010609</iCode>\n        <sysOrdID>1703747190</sysOrdID>\n        <iName>MDe5+tWuMDY=</iName>\n        <exeMarket>XSHG_FIX</exeMarket>\n        <ownerType>103</ownerType>\n        <bOrdCount>0</bOrdCount>\n        <bOrdPrice>0</bOrdPrice>\n        <sOrdCount>100</sOrdCount>\n        <sOrdPrice>102.000</sOrdPrice>\n        <settlType>103</settlType>\n        <settlPeriod />\n        <lastParPx>0</lastParPx>\n        <cashMargin>1</cashMargin>\n        <memo />\n        <ordDate>2023-12-28</ordDate>\n        <ordTime>15:06:30</ordTime>\n        <matchNo>114</matchNo>\n        <product>01</product>\n        <tradeType>10</tradeType>\n        <company>316</company>\n        <trader>Z31608</trader>\n        <seatno>88045</seatno>\n        <obTrader>Z31606</obTrader>\n        <iceCount>0</iceCount>\n        <clientOrdid>lwy111</clientOrdid>\n        <accname>lwy_shg_B883056635</accname>\n        <shareProperty>01</shareProperty>\n      </order>\n    </orders>\n    <accountInfo>\n      <cashExtAccID>lwy_wbzj_jys</cashExtAccID>\n      <cashExtAccName>lwy_shg_001</cashExtAccName>\n      <cashAccID>LWY_NBZJ_JYS</cashAccID>\n      <cashAccIDAccName>LWY_NBZJ_JYS</cashAccIDAccName>\n      <xirSecuExtAccID>lwy_wbzq_sh_02</xirSecuExtAccID>\n      <xirSecuExtAccName>lwy_wbzq_sh_02</xirSecuExtAccName>\n      <secuAccID>LWY_NBZQ_JYS</secuAccID>\n      <secuAccName>LWY_NBZQ_JYS</secuAccName>\n    </accountInfo>\n    <terminalInfo>\n      <clientPublicIpAddress />\n      <clientPublicPort />\n      <clientInnerIpAddress />\n      <clientMacaddress />\n      <clientHarddiskno />\n      <clientPcname />\n      <clientCpuno />\n      <clientDiskpartitioninfo />\n      <clientReellabel />\n      <clientName>xIRCS</clientName>\n      <clientVersion />\n      <isTerminalinfo>0</isTerminalinfo>\n    </terminalInfo>\n  </body>\n</root>'"}], "start": 1703747190745, "stop": 1703747190800}, {"name": "数据库查询", "status": "passed", "parameters": [{"name": "sql", "value": "'select t.ordstatus,t.dir,t.B_ORDCOUNT,t.B_ORDPRICE,t.trader,t.ob_Trader from ttrd_fix_order t  where t.match_No='114' and t.trader='Z31606' and t.ob_Trader='Z31608'and t.sysordid!=1703747190'"}], "start": 1703747195847, "stop": 1703747195851}, {"name": "数据库ORDSTATUS断言", "status": "passed", "steps": [{"name": "预期结果：ORDSTATUS=7", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：ORDSTATUS=7", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库DIR断言", "status": "passed", "steps": [{"name": "预期结果：DIR=B", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：DIR=B", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库B_ORDCOUNT断言", "status": "passed", "steps": [{"name": "预期结果：B_ORDCOUNT=100", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：B_ORDCOUNT=100", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库B_ORDPRICE断言", "status": "passed", "steps": [{"name": "预期结果：B_ORDPRICE=102.0", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：B_ORDPRICE=102.0", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库TRADER断言", "status": "passed", "steps": [{"name": "预期结果：TRADER=Z31606", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：TRADER=Z31606", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库OB_TRADER断言", "status": "passed", "steps": [{"name": "预期结果：OB_TRADER=Z31608", "status": "passed", "start": 1703747196023, "stop": 1703747196023}, {"name": "实际结果：OB_TRADER=Z31608", "status": "passed", "start": 1703747196023, "stop": 1703747196023}], "start": 1703747196023, "stop": 1703747196023}, {"name": "数据库查询", "status": "passed", "parameters": [{"name": "sql", "value": "'select t.ordstatus,t.dir,t.S_ORDCOUNT,t.S_ORDPRICE,t.trader,t.ob_Trader from ttrd_fix_order t  where t.sysordid=1703747190 '"}], "start": 1703747196081, "stop": 1703747196084}, {"name": "数据库ORDSTATUS断言", "status": "passed", "steps": [{"name": "预期结果：ORDSTATUS=7", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：ORDSTATUS=7", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}, {"name": "数据库DIR断言", "status": "passed", "steps": [{"name": "预期结果：DIR=S", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：DIR=S", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}, {"name": "数据库S_ORDCOUNT断言", "status": "passed", "steps": [{"name": "预期结果：S_ORDCOUNT=100", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：S_ORDCOUNT=100", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}, {"name": "数据库S_ORDPRICE断言", "status": "passed", "steps": [{"name": "预期结果：S_ORDPRICE=102.0", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：S_ORDPRICE=102.0", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}, {"name": "数据库TRADER断言", "status": "passed", "steps": [{"name": "预期结果：TRADER=Z31608", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：TRADER=Z31608", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}, {"name": "数据库OB_TRADER断言", "status": "passed", "steps": [{"name": "预期结果：OB_TRADER=Z31606", "status": "passed", "start": 1703747196262, "stop": 1703747196262}, {"name": "实际结果：OB_TRADER=Z31606", "status": "passed", "start": 1703747196262, "stop": 1703747196262}], "start": 1703747196262, "stop": 1703747196262}], "attachments": [{"name": "log", "source": "33a58e8c-f32e-4fe8-90bb-67e7de32291f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "(5, '协商成交（XSCJ_SHG）_正向用例', '上交所协商成交_正常成交', '上交所协商成交各接口各要素正确，方向卖出，正常成交', 'blocker', '1101;1101', 'data/shg_fix/DS_1101_SHG_Fix_XSCJ.xml;data/shg_fix/DS_1101_SHG_Fix_XSCJ.xml', '{\"matchNo\":\"114\",\"sysOrdID\":\"\",\"dir\":\"B\",\"bOrdCount\":\"100\",\"bOrdPrice\":\"102.000\",\"sOrdCount\":\"0\",\"sOrdPrice\":\"0\",\"trader\":\"Z31606\",\"obTrader\":\"Z31608\"};\\n{\"sysOrdID\":\"\",\"matchNo\":\"114\",\"dir\":\"S\",\"sOrdCount\":\"100\",\"sOrdPrice\":\"102.000\",\"bOrdCount\":\"0\",\"bOrdPrice\":\"0\",\"trader\":\"Z31608\",\"obTrader\":\"Z31606\"}', \"select t.ordstatus,t.dir,t.B_ORDCOUNT,t.B_ORDPRICE,t.trader,t.ob_Trader from ttrd_fix_order t  where t.match_No='114' and t.trader='Z31606' and t.ob_Trader='Z31608'and t.sysordid!={0};select t.ordstatus,t.dir,t.S_ORDCOUNT,t.S_ORDPRICE,t.trader,t.ob_Trader from ttrd_fix_order t  where t.sysordid={0} \", 'all_val[\"sysOrdID\"]', '{\"ORDSTATUS\":7,\"DIR\":\"B\",\"B_ORDCOUNT\":100,\"B_ORDPRICE\":102.0000,\"TRADER\":\"Z31606\",\"OB_TRADER\":\"Z31608\"};{\"ORDSTATUS\":7,\"DIR\":\"S\",\"S_ORDCOUNT\":100,\"S_ORDPRICE\":102.0000,\"TRADER\":\"Z31608\",\"OB_TRADER\":\"Z31606\"}', '测试通过', 'yes', None, 'data/step_case_shg.xlsx', '上交所固收（XSHG_FIX）')"}], "start": 1703747185659, "stop": 1703747196262, "uuid": "c5cdcd08-23b1-49d4-8ce0-f04cde13710a", "historyId": "d7883bc3743b942f6f866480ed54ac5a", "testCaseId": "266f66400df17daacc99b8b1732d65d9", "fullName": "testcase.test_case_excel#test_jys", "labels": [{"name": "feature", "value": "上交所固收（XSHG_FIX）"}, {"name": "story", "value": "协商成交（XSCJ_SHG）_正向用例"}, {"name": "severity", "value": "blocker"}, {"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_case_excel"}, {"name": "host", "value": "HT-LPC-0297"}, {"name": "thread", "value": "16876-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_case_excel"}]}